<idea-plugin>
    <id>com.example.mavencontextrunner</id>
    <name>Maven Context Runner</name>
    <vendor>Your Name</vendor>
    <description><![CDATA[
    Run Maven goals (verify, test, clean, compile, spotless:apply) for the module containing the current file.
    All commands (except Spotless Apply) run spotless:apply first.

    Default keyboard shortcuts:
    - Option+V: Maven Verify
    - Option+T: Maven Test
    - Option+C: Maven Clean
    - Option+F: Spotless Apply
    - Option+B: Maven Compile
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.idea.maven</depends>

    <actions>
        <action id="MavenContextRunner.Verify"
                class="com.example.mavencontextrunner.MavenVerifyAction"
                text="Maven Verify (Current Module)"
                description="Run mvn verify for the module containing the current file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt V"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt V"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt V"/>
        </action>

        <action id="MavenContextRunner.Test"
                class="com.example.mavencontextrunner.MavenTestAction"
                text="Maven Test (Current Module)"
                description="Run mvn test for the module containing the current file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt T"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt T"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt T"/>
        </action>

        <action id="MavenContextRunner.Clean"
                class="com.example.mavencontextrunner.MavenCleanAction"
                text="Maven Clean (Current Module)"
                description="Run mvn spotless:apply clean for the module containing the current file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt C"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt C"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt C"/>
        </action>

        <action id="MavenContextRunner.SpotlessApply"
                class="com.example.mavencontextrunner.SpotlessApplyAction"
                text="Spotless Apply (Current Module)"
                description="Run mvn spotless:apply for the module containing the current file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt F"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt F"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt F"/>
        </action>

        <action id="MavenContextRunner.Compile"
                class="com.example.mavencontextrunner.MavenCompileAction"
                text="Maven Compile (Current Module)"
                description="Run mvn compile for the module containing the current file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt B"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt B"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt B"/>
        </action>

        <!-- Add to Tools menu for discoverability -->
        <group id="MavenContextRunner.Menu" text="Maven Context Runner" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <reference ref="MavenContextRunner.Verify"/>
            <reference ref="MavenContextRunner.Test"/>
            <reference ref="MavenContextRunner.Clean"/>
            <reference ref="MavenContextRunner.SpotlessApply"/>
            <reference ref="MavenContextRunner.Compile"/>
        </group>
    </actions>
</idea-plugin>
